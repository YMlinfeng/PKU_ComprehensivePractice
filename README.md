# PKU_ComprehensivePractice
The warehouse records the implementation process of the 2024-2025 comprehensive practice project of Teacher Cao Xixin's research group from the School of Software and Microelectronics of Peking University

# 技术报告提纲

## 1. 项目背景

### 1.1 项目介绍  
- **目标**：设计一款基于强化学习与扩散模型的交互式游戏引擎模拟产品。  
- **核心技术**：强化学习与扩散模型相结合，用于生成高质量游戏场景和视频。  
- **预期目标**：搭建具有多模块耦合的游戏生产平台，解决现有游戏设计过程中的关键问题。  

### 1.2 项目价值  
- 提升游戏设计和开发效率。  
- 改善当前游戏引擎生成场景的不足，增强生成图像与视频的质量与多样性。  
- 通过技术创新推动游戏行业的技术升级。  

---

## 2. 相关工作

### 2.1 强化学习  
- **现状综述**：  
  - 当前强化学习在游戏环境中的应用（例如PPO、A3C、Q-learning等）。  
  - 在数据生成和模拟游戏行为方面的进展。  
- **关键参考文献**：  
  - 强化学习在复杂环境中的最新研究与应用。  

### 2.2 扩散模型  
- **现状综述**：  
  - 扩散模型在图像与视频生成中的应用（例如Stable Diffusion、VDM等）。  
  - 适用于游戏场景生成的条件扩散模型的探索。  

### 2.3 T2I模型  
- 文本到图像生成模型的发展与应用。  

### 2.4 T2V模型  
- 文本到视频生成模型的研究进展及其对游戏视频生成的启发。  

### 2.5 可控游戏视频生成  
- 当前模型对条件生成的控制能力分析。  

---

## 3. 总体框架与平台示意图  
- **框架概述**：游戏生产平台的整体架构设计。  
- **平台示意图**：展示平台中各个模块的关系及其功能（如数据准备模块、扩散模型训练模块、推理生成模块等）。  

---

## 4. 数据准备模块  

### 4.1 现有技术  
- 使用强化学习（如PPO）训练RL-agent，生成9M帧的数据。  

### 4.2 改进思路  
- **提升agent智能性**：使用更复杂的RL算法（如A3C、基于好奇心的探索方法）。  
- **增加数据多样性**：  
  - 引入人类玩家数据，构建混合数据集。  
  - 使用不同风格的agent行为，扩展数据集的多样性。  
- **数据预处理**：添加数据清洗与处理模块，提高数据质量。  

---

## 5. 视频扩散模型训练模块  

### 5.1 技术要点总览  
- **现有技术**：  
  1. 使用Stable Diffusion预训练模型，结合游戏动作和帧序列进行条件生成。  
  2. 噪声增强技术，缓解生成过程中的漂移问题。  
  3. 实时性优化：  
     - DDIM采样（减少采样步骤至4步）。  
     - 多TPU并行生成，实现每秒20帧的生成速度。  

### 5.2 改进思路  
- 提升长时间轨迹生成的稳定性。  
- 引入更高效的条件生成机制（如注意力机制）。  
- 微调扩散模型解码器，增强细节保留能力。  
- 自适应噪声增强机制，动态调整生成质量。  
- 探索生成长时间视频的方法，改进模型蒸馏技术，加速推理速度。  
- 提升生成分辨率至更高水平。  

---

## 6. 推理/生成模块  

### 6.1 输入  
- 过去几帧的上下文信息。  
- 控制条件或prompt（如动作序列、游戏事件等）。  

### 6.2 模型  
- 使用训练好的视频扩散模型进行推理。  

### 6.3 输出  
- 生成的高质量后续帧。  

---

## 7. 生成效果评价  

### 7.1 单帧图像质量评价  
- **现有技术**：  
  - 使用PSNR、LPIPS等客观指标进行评估。  
  - 使用人类评估员进行主观评价。  

- **改进思路**：  
  - 引入IS、FID等更复杂的评价指标。  
  - 增加CLIP相似度、视频时长等新评估方法。  

### 7.2 视频生成质量评价  
- 使用Vbench评价法评估视频生成质量。  
- 人类用户评价。  

---

## 8. 讨论和总结  

### 8.1 结论  
- 项目技术的创新性与可行性评估。  

### 8.2 优势  
- 多模块协同的设计架构，提升生成效率与质量。  
- 结合强化学习与扩散模型，丰富游戏设计资源。  

### 8.3 局限性  
- 视频生成的长时间稳定性仍需进一步优化。  
- 高分辨率与实时性生成的技术难度较高。  

---

## 9. 未来工作展望  
- 探索更高效的生成与训练方法。  
- 提升生成质量与长时间稳定性。  
- 优化平台性能，推动实际应用落地。  

---
